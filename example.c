
#include "projet.h"
#include <stdio.h>
#include <memory.h>
#include <inttypes.h>


int picnicExample() {
    // unsigned char witness[8] = "abcdefgh";
    // uint8_t* wit = 0b01100001011000100110001101100100 01100101011001100110011101101000 10000000000000000000000000000000 00000000000000000000000000000000 0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 00000000000000000000000001000000;
    
    // uint32_t* witness = malloc(sizeof(uint32_t) * 16);
    // witness[0] = 0b01100001011000100110001101100100;
    // witness[1] = 0b01100101011001100110011101101000;
    // witness[2] = 0b10000000000000000000000000000000;
    // witness[3] = 0b00000000000000000000000000000000;
    // witness[4] = 0b00000000000000000000000000000000;
    // witness[5] = 0b00000000000000000000000000000000;
    // witness[6] = 0b00000000000000000000000000000000;
    // witness[7] = 0b00000000000000000000000000000000;
    // witness[8] = 0b00000000000000000000000000000000;
    // witness[9] = 0b00000000000000000000000000000000;
    // witness[10] = 0b00000000000000000000000000000000;
    // witness[11] = 0b00000000000000000000000000000000;
    // witness[12] = 0b00000000000000000000000000000000;
    // witness[13] = 0b00000000000000000000000000000000;
    // witness[14] = 0b00000000000000000000000000000000;
    // witness[15] = 0b00000000000000000000000001000000;

    unsigned char* witness = calloc(64, 1);

    int numBits = 64;
    int chars = numBits >> 3;
    memcpy(witness, "abcdefgh", 8);
    witness[chars] = 0x80;

    witness[62] = 64 >> 8;
    witness[63] = 64;

    int ret = projet_sign((uint32_t*)witness);
    return ret;
}

int main() {
    int ret = picnicExample();
    return ret;
}